<div class="p-4">
  <h1 class="text-3xl font-bold text-white mb-6" data-i18n="products.list.title">Listado de Productos</h1>

  <!-- Filtros -->
  <div class="bg-white rounded-xl shadow-lg p-5 mb-6 flex flex-wrap gap-4 items-end">
    <div class="flex-1 min-w-[220px]">
      <label class="block font-bold text-gray-700 mb-2" data-i18n="products.list.nroParte">Nro de Parte</label>
      <input id="filtroNroParte" type="text" placeholder="Filtrar por NroParte"
        data-i18n="[placeholder]products.list.filterByNroParte"
        class="w-full border-2 border-indigo-300 p-2 rounded-lg focus:border-indigo-600 focus:ring-2 focus:ring-indigo-200 outline-none transition" />
    </div>
    <div class="flex-1 min-w-[220px]">
      <label class="block font-bold text-gray-700 mb-2" data-i18n="products.list.description">Descripción</label>
      <input id="filtroDescripcion" type="text" placeholder="Filtrar por Descripción"
        data-i18n="[placeholder]products.list.filterByDescription"
        class="w-full border-2 border-indigo-300 p-2 rounded-lg focus:border-indigo-600 focus:ring-2 focus:ring-indigo-200 outline-none transition" />
    </div>
    <div class="flex-1 min-w-[220px]">
      <label class="block font-bold text-gray-700 mb-2" data-i18n="products.list.brand">Marca</label>
      <select id="filtroMarca"
        class="w-full border-2 border-indigo-300 p-2 rounded-lg focus:border-indigo-600 focus:ring-2 focus:ring-indigo-200 outline-none transition">
        <option value="" data-i18n="products.list.filterByBrand">Todas las marcas</option>
      </select>
    </div>
    <div class="flex gap-3">
      <button id="btnFiltrar"
        class="bg-indigo-600 hover:bg-indigo-700 text-white px-5 py-2 rounded-lg font-bold shadow transition transform hover:scale-105"
        data-i18n="products.list.filter">Filtrar</button>
      <button id="btnLimpiarFiltros"
        class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg font-semibold shadow transition transform hover:scale-105"
        data-i18n="products.list.clearFilters">Limpiar</button>
    </div>
  </div>

  <!-- Tabla -->
  <div class="overflow-x-auto bg-white rounded-xl shadow-lg">
    <table class="min-w-full">
      <thead class="bg-gray-800 text-white">
        <tr>
          <th class="py-3 px-4 text-left sortable" data-field="NroParte" data-i18n="products.list.nroParte">NroParte
          </th>
          <th class="py-3 px-4 text-left" data-i18n="products.list.description">Descripción</th>
          <th class="py-3 px-4 text-left" data-i18n="products.list.brand">Marca</th>
          <th class="py-3 px-4 text-left" data-i18n="products.list.location">Ubicación</th>
          <th class="py-3 px-4 text-right" data-i18n="products.list.stockMin">Stock mínimo</th>
          <th class="py-3 px-4 text-right sortable" data-field="Cantidad" data-i18n="products.list.quantity">Cantidad
          </th>
          <th class="py-3 px-4 text-right sortable" data-field="Precio" data-i18n="products.list.priceVenta">Precio
            Venta</th>
          <th class="py-3 px-4 text-right sortable" data-field="precioCosto" data-i18n="products.list.precioCosto">
            Precio Costo</th>
          <th class="py-3 px-4 text-right sortable" data-field="Tasas" data-i18n="products.list.iva">IVA/Tasa</th>
          <th class="py-3 px-4 text-left" data-i18n="products.list.image">Imagen</th>
          <th class="py-3 px-4 text-center sortable" data-field="activo" data-i18n="products.list.status">Estado</th>
          <th class="py-3 px-4 text-center" data-i18n="products.list.actions">Acciones</th>
        </tr>
      </thead>
      <tbody id="tablaProductosBody" class="divide-y divide-gray-200">
        <!-- Filas generadas dinámicamente -->
      </tbody>
    </table>
  </div>

  <!-- Paginación -->
  <div class="flex justify-between items-center mt-4 bg-white rounded-xl shadow p-4">
    <button id="prevPage"
      class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-semibold transition"
      data-i18n="products.list.previous">Anterior</button>
    <span id="paginaActual" class="font-bold text-gray-700"></span>
    <button id="nextPage"
      class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded-lg font-semibold transition"
      data-i18n="products.list.next">Siguiente</button>
  </div>

  <!-- Modal de feedback/confirmación -->
  <div id="appModal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50" style="display: none;">
    <div class="bg-white rounded-xl shadow-2xl max-w-md p-8 space-y-4">
      <div class="text-center">
        <div id="modalIcon" class="text-5xl mb-4"></div>
        <h2 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-2"></h2>
        <p id="modalMessage" class="text-gray-600 text-center"></p>
      </div>
      <div class="flex gap-3 justify-center">
        <button id="btn-modal-ok"
          class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-semibold transition transform hover:scale-105"
          data-i18n="common.accept">Aceptar</button>
        <button id="btn-modal-cancel"
          class="bg-gray-400 hover:bg-gray-500 text-white px-6 py-2 rounded-lg font-semibold transition transform hover:scale-105"
          data-i18n="common.cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal de Imagen con Carousel -->
  <div id="imageModal" class="fixed inset-0 bg-black/95 flex items-center justify-center z-50" style="display: none;">
    <div class="relative max-w-5xl w-full max-h-screen p-4">
      <!-- Botón cerrar -->
      <button id="closeImageModal"
        class="absolute top-4 right-4 bg-white hover:bg-gray-200 text-gray-800 rounded-full w-12 h-12 flex items-center justify-center font-bold text-xl shadow-lg z-10 transition-transform hover:scale-110">
        <i class="fas fa-times"></i>
      </button>

      <!-- Contador de imágenes -->
      <div
        class="absolute top-4 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-sm font-semibold z-10">
        <span id="imageCounter">1 / 1</span>
      </div>

      <!-- Botón anterior -->
      <button id="prevImageBtn"
        class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full w-12 h-12 flex items-center justify-center font-bold text-2xl shadow-xl z-10 transition-all hover:scale-110"
        style="display: none;">
        ‹
      </button>

      <!-- Imagen principal -->
      <div class="flex items-center justify-center">
        <img id="modalImage" src="" alt="Imagen del producto"
          class="max-w-full max-h-[85vh] rounded-lg shadow-2xl object-contain" />
      </div>

      <!-- Botón siguiente -->
      <button id="nextImageBtn"
        class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/90 hover:bg-white text-gray-800 rounded-full w-12 h-12 flex items-center justify-center font-bold text-2xl shadow-xl z-10 transition-all hover:scale-110"
        style="display: none;">
        ›
      </button>

      <!-- Indicación de teclas -->
      <div
        class="absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-full text-xs z-10">
        <span>Usa las flechas ← → para navegar | ESC para cerrar</span>
      </div>
    </div>
  </div>

</div>